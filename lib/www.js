// Generated by CoffeeScript 1.9.3
(function() {
  var Datastore, Evernote, Www, config, core, dataSource;

  Evernote = require('evernote').Evernote;

  Datastore = require('nedb');

  core = require('./core');

  config = require('../config');

  dataSource = require('./data-source');

  Www = (function() {
    function Www() {}


    /**
     * @public
     */

    Www.prototype.main = function(app, server) {
      var dbPath;
      core.app = app;
      core.server = server;
      core.www = this;
      core.app.locals.core = core;
      dbPath = __dirname + '/../db/';
      core.db.notes = new Datastore({
        filename: dbPath + 'notes.db',
        autoload: true
      });
      core.client = new Evernote.Client({
        token: config.developerToken
      });
      return dataSource.findNotes('', (function(_this) {
        return function(err) {
          if (err) {
            return console.error(err);
          }
          return console.log('Done');
        };
      })(this));
    };

    return Www;

  })();

  module.exports = new Www();

}).call(this);

//# sourceMappingURL=www.js.map

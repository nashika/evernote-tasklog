script(type='text/ng-template' id='menu')
  #settings.container(ng-controller='MenuController')
    .page-header
      h1 #[span.fa.fa-tasks] Evernote Tasklog
    .row
      .col-md-4
        h2 #[span.fa.fa-search] Note Filter
        .well.h3
          p #[span.fa.fa-2x.fa-files-o] {{noteCount}} notes.
        form.form-horizontal
          .form-group
            label.col-sm-3.control-label Notebook
            .col-sm-9
              ui-select.form-control(multiple, ng-model='dataTransciever.filterParams.notebookGuids', theme='select2')
                ui-select-match(placeholder='Select notebooks...') {{$item.name}}
                ui-select-choices(group-by='"stack"', repeat='notebook.guid as notebook in dataStore.notebooks | filterByProperty: {name: $select.search}')
                  div(ng-bind-html='notebook.name | highlight: $select.search')
                  small stack: {{notebook.stack ? notebook.stack : 'None'}}
          .form-group
            label.col-sm-3.control-label Stack
            .col-sm-9
              ui-select.form-control(multiple, ng-model='dataTransciever.filterParams.stacks', theme='select2')
                ui-select-match(placeholder='Select stacks...') {{$item}}
                ui-select-choices(repeat='stack in dataStore.stacks | filter: $select.search')
                  div(ng-bind-html='stack | highlight: $select.search')
        button.btn.btn-primary.btn-lg.btn-block(type='button', ng-click='reload()') #[span.fa.fa-refresh] Reload
      .col-md-4
        h2 #[span.fa.fa-user] User Info
        dl.dl-horizontal
          dt Id
          dd {{dataStore.user.id}}
          dt Username
          dd {{dataStore.user.username}}
          dt Email
          dd {{dataStore.user.email}}
          dt Name
          dd {{dataStore.user.name}}
        a.btn.btn-danger.btn-block(href='/auth/logout') #[span.fa.fa-sign-out] Logout
      .col-md-4
        h2 #[span.fa.fa-database] Data Info
        table.table.table-bordered.table-condensed.table-striped
          tr
            th
            th Target
            th Loaded
            th All
          tr
            th Notes
            td {{dataStore.notes | objectLength }}
            td
            td
          tr
            th Time Logs
            td {{dataStore.timeLogs | objectLength : 1}}
            td
            td
          tr
            th Profit Logs
            td {{dataStore.profitLogs | objectLength: 1}}
            td
            td
        button.btn.btn-primary.btn-block(type='button', ng-click='dataTransciever.reParse()') #[span.fa.fa-industry] Re Parse Notes

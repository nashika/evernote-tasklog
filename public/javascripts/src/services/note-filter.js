// Generated by CoffeeScript 1.9.3
(function() {
  var NoteFilterService,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  NoteFilterService = (function() {
    NoteFilterService.prototype.updated = null;

    NoteFilterService.prototype.notebooks = null;

    NoteFilterService.prototype.count = null;

    function NoteFilterService() {
      this.query = bind(this.query, this);
    }

    NoteFilterService.prototype.query = function() {
      var result;
      result = {};
      if (this.updated) {
        merge(result, {
          updated: {
            $gte: parseInt(moment().startOf('day').subtract(this.updated, 'days').format('x'))
          }
        });
      }
      if (this.notebooks && this.notebooks.length > 0) {
        merge(result, {
          notebookGuid: {
            $in: this.notebooks
          }
        });
      }
      return result;
    };

    return NoteFilterService;

  })();

  app.service('noteFilter', [NoteFilterService]);

  module.exports = NoteFilterService;

}).call(this);

//# sourceMappingURL=note-filter.js.map

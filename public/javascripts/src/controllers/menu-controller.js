// Generated by CoffeeScript 1.10.0
(function() {
  var MenuController,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  MenuController = (function() {
    function MenuController($scope, $http, dataStore, dataTransciever) {
      this.$scope = $scope;
      this.$http = $http;
      this.dataStore = dataStore;
      this.dataTransciever = dataTransciever;
      this._onWatchFilterParams = bind(this._onWatchFilterParams, this);
      this._onReload = bind(this._onReload, this);
      this.$scope.dataStore = this.dataStore;
      this.$scope.dataTransciever = this.dataTransciever;
      this.$scope.noteCount = null;
      this.$scope.$watchGroup(['dataTransciever.filterParams.notebookGuids', 'dataTransciever.filterParams.stacks'], this._onWatchFilterParams);
      this.$scope.$on('event::reload', this._onReload);
    }

    MenuController.prototype._onReload = function() {
      return this.dataTransciever.reload();
    };

    MenuController.prototype._onWatchFilterParams = function() {
      return this.dataTransciever.countNotes((function(_this) {
        return function(err, count) {
          if (err) {
            alert(err);
            return;
          }
          return _this.$scope.noteCount = count;
        };
      })(this));
    };

    return MenuController;

  })();

  app.controller('MenuController', ['$scope', '$http', 'dataStore', 'dataTransciever', MenuController]);

  module.exports = MenuController;

}).call(this);

//# sourceMappingURL=menu-controller.js.map

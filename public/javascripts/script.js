(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
(function() {
  var Controller;

  Controller = (function() {
    function Controller($scope, viewUtil) {
      this.$scope = $scope;
      this.viewUtil = viewUtil;
    }

    return Controller;

  })();

  app.controller('Controller', ['$scope', 'viewUtil', Controller]);

  module.exports = Controller;

}).call(this);



},{}],2:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
(function() {
  var TimelineController;

  TimelineController = (function() {
    TimelineController.prototype.timeLogs = {};

    TimelineController.prototype.timelineDatas = [];

    function TimelineController($scope, $http) {
      var container, options, timeline;
      this.$scope = $scope;
      this.$http = $http;
      container = document.getElementById('timeline');
      this.timelineDatas = [
        {
          id: 1,
          content: 'item 1',
          start: '2013-04-20'
        }, {
          id: 2,
          content: 'item 2',
          start: '2013-04-14'
        }, {
          id: 3,
          content: 'item 3',
          start: '2013-04-18'
        }, {
          id: 4,
          content: 'item 4',
          start: '2013-04-16',
          end: '2013-04-19'
        }, {
          id: 5,
          content: 'item 5',
          start: '2013-04-25'
        }, {
          id: 6,
          content: 'item 6',
          start: '2013-04-27'
        }
      ];
      this.$http({
        method: 'GET',
        url: '/time-logs'
      }).success((function(_this) {
        return function(datas, status) {
          var _id, base, data, i, len, name, noteGuid, noteTimeLogs, ref, results, timeLog;
          for (i = 0, len = datas.length; i < len; i++) {
            timeLog = datas[i];
            if ((base = _this.timeLogs)[name = timeLog.noteGuid] == null) {
              base[name] = {};
            }
            _this.timeLogs[timeLog.noteGuid][timeLog._id] = timeLog;
          }
          data = [];
          ref = _this.timeLogs;
          results = [];
          for (noteGuid in ref) {
            noteTimeLogs = ref[noteGuid];
            results.push((function() {
              var results1;
              results1 = [];
              for (_id in noteTimeLogs) {
                timeLog = noteTimeLogs[_id];
                results1.push(data.push({
                  id: _id,
                  content: timeLog.comment,
                  start: timeLog.date
                }));
              }
              return results1;
            })());
          }
          return results;
        };
      })(this)).error((function(_this) {
        return function(data, status) {
          return console.error(status);
        };
      })(this));
      options = {};
      timeline = new vis.Timeline(container, this.timelineDatas, options);
    }

    return TimelineController;

  })();

  app.controller('TimelineController', ['$scope', '$http', TimelineController]);

  module.exports = TimelineController;

}).call(this);



},{}],3:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
(function() {
  app.factory('viewUtil', function() {
    var viewUtil;
    viewUtil = {
      getDate: function(datetime) {
        var date;
        date = new Date(datetime);
        return date.getFullYear() + '/' + date.getMonth() + '/' + date.getDate();
      },
      getTime: function(datetime) {
        var date;
        date = new Date(datetime);
        return date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
      }
    };
    return viewUtil;
  });

}).call(this);



},{}],4:[function(require,module,exports){
// Generated by CoffeeScript 1.9.3
(function() {
  app.filter('orderObjectBy', function() {
    return function(items, field, reverse) {
      var filtered, results;
      if (field == null) {
        field = '$value';
      }
      if (reverse == null) {
        reverse = true;
      }
      filtered = [];
      angular.forEach(items, function(item, key) {
        return filtered.push({
          key: key,
          item: item
        });
      });
      filtered.sort(function(a, b) {
        if (field === '$key') {
          if (a.key > b.key) {
            return -1;
          } else {
            return 1;
          }
        }
        if (field === '$value') {
          if (a.item > b.item) {
            return -1;
          } else {
            return 1;
          }
        }
        if (typeof field === 'string') {
          if (a[field] > b[field]) {
            return -1;
          } else {
            return 1;
          }
        }
        if (typeof field === 'function') {
          if (field(a.item, a.key) > field(b.item, b.key)) {
            return -1;
          } else {
            return 1;
          }
        }
      });
      if (reverse) {
        filtered.reverse();
      }
      results = [];
      angular.forEach(filtered, function(item) {
        var result;
        result = item.item;
        result['$key'] = item.key;
        return results.push(result);
      });
      return results;
    };
  });

}).call(this);



},{}],5:[function(require,module,exports){
window.app = angular.module('App', ['ui.bootstrap']);

require('./filters/order-object-by');

require('./factories/view-util');

require('./controllers/controller');

require('./controllers/timeline-controller');


},{"./controllers/controller":1,"./controllers/timeline-controller":2,"./factories/view-util":3,"./filters/order-object-by":4}]},{},[5])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29udHJvbGxlcnMvY29udHJvbGxlci5qcyIsInNyYy9jb250cm9sbGVycy90aW1lbGluZS1jb250cm9sbGVyLmpzIiwic3JjL2ZhY3Rvcmllcy92aWV3LXV0aWwuanMiLCJzcmMvZmlsdGVycy9vcmRlci1vYmplY3QtYnkuanMiLCJDOlxcVXNlcnNcXFJva3Vyb1xcRG9jdW1lbnRzXFx3b3Jrc3BhY2VcXGV2ZXJub3RlLXRhc2tsb2dcXHB1YmxpY1xcamF2YXNjcmlwdHNcXHNyY1xcaW5kZXguY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBLE1BQU0sQ0FBQyxHQUFQLEdBQWEsT0FBTyxDQUFDLE1BQVIsQ0FBZSxLQUFmLEVBQXNCLENBQUMsY0FBRCxDQUF0Qjs7QUFHYixPQUFBLENBQVEsMkJBQVI7O0FBR0EsT0FBQSxDQUFRLHVCQUFSOztBQUdBLE9BQUEsQ0FBUSwwQkFBUjs7QUFDQSxPQUFBLENBQVEsbUNBQVIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuM1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgdmFyIENvbnRyb2xsZXI7XHJcblxyXG4gIENvbnRyb2xsZXIgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRzY29wZSwgdmlld1V0aWwpIHtcclxuICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgIHRoaXMudmlld1V0aWwgPSB2aWV3VXRpbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcclxuXHJcbiAgfSkoKTtcclxuXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICd2aWV3VXRpbCcsIENvbnRyb2xsZXJdKTtcclxuXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBDb250cm9sbGVyO1xyXG5cclxufSkuY2FsbCh0aGlzKTtcclxuXHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2xsZXIuanMubWFwXHJcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjNcbihmdW5jdGlvbigpIHtcbiAgdmFyIFRpbWVsaW5lQ29udHJvbGxlcjtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS50aW1lTG9ncyA9IHt9O1xuXG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS50aW1lbGluZURhdGFzID0gW107XG5cbiAgICBmdW5jdGlvbiBUaW1lbGluZUNvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCkge1xuICAgICAgdmFyIGNvbnRhaW5lciwgb3B0aW9ucywgdGltZWxpbmU7XG4gICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcbiAgICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lbGluZScpO1xuICAgICAgdGhpcy50aW1lbGluZURhdGFzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gMScsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTIwJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gMicsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTE0J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gMycsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTE4J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDQsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gNCcsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTE2JyxcbiAgICAgICAgICBlbmQ6ICcyMDEzLTA0LTE5J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDUsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gNScsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTI1J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6IDYsXG4gICAgICAgICAgY29udGVudDogJ2l0ZW0gNicsXG4gICAgICAgICAgc3RhcnQ6ICcyMDEzLTA0LTI3J1xuICAgICAgICB9XG4gICAgICBdO1xuICAgICAgdGhpcy4kaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy90aW1lLWxvZ3MnXG4gICAgICB9KS5zdWNjZXNzKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YXMsIHN0YXR1cykge1xuICAgICAgICAgIHZhciBfaWQsIGJhc2UsIGRhdGEsIGksIGxlbiwgbmFtZSwgbm90ZUd1aWQsIG5vdGVUaW1lTG9ncywgcmVmLCByZXN1bHRzLCB0aW1lTG9nO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGFzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aW1lTG9nID0gZGF0YXNbaV07XG4gICAgICAgICAgICBpZiAoKGJhc2UgPSBfdGhpcy50aW1lTG9ncylbbmFtZSA9IHRpbWVMb2cubm90ZUd1aWRdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgYmFzZVtuYW1lXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMudGltZUxvZ3NbdGltZUxvZy5ub3RlR3VpZF1bdGltZUxvZy5faWRdID0gdGltZUxvZztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YSA9IFtdO1xuICAgICAgICAgIHJlZiA9IF90aGlzLnRpbWVMb2dzO1xuICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBmb3IgKG5vdGVHdWlkIGluIHJlZikge1xuICAgICAgICAgICAgbm90ZVRpbWVMb2dzID0gcmVmW25vdGVHdWlkXTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHRzMTtcbiAgICAgICAgICAgICAgcmVzdWx0czEgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChfaWQgaW4gbm90ZVRpbWVMb2dzKSB7XG4gICAgICAgICAgICAgICAgdGltZUxvZyA9IG5vdGVUaW1lTG9nc1tfaWRdO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMxLnB1c2goZGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBfaWQsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB0aW1lTG9nLmNvbW1lbnQsXG4gICAgICAgICAgICAgICAgICBzdGFydDogdGltZUxvZy5kYXRlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzMTtcbiAgICAgICAgICAgIH0pKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKS5lcnJvcigoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKHN0YXR1cyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgICB0aW1lbGluZSA9IG5ldyB2aXMuVGltZWxpbmUoY29udGFpbmVyLCB0aGlzLnRpbWVsaW5lRGF0YXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBUaW1lbGluZUNvbnRyb2xsZXI7XG5cbiAgfSkoKTtcblxuICBhcHAuY29udHJvbGxlcignVGltZWxpbmVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCBUaW1lbGluZUNvbnRyb2xsZXJdKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFRpbWVsaW5lQ29udHJvbGxlcjtcblxufSkuY2FsbCh0aGlzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZWxpbmUtY29udHJvbGxlci5qcy5tYXBcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjNcclxuKGZ1bmN0aW9uKCkge1xyXG4gIGFwcC5mYWN0b3J5KCd2aWV3VXRpbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHZpZXdVdGlsO1xyXG4gICAgdmlld1V0aWwgPSB7XHJcbiAgICAgIGdldERhdGU6IGZ1bmN0aW9uKGRhdGV0aW1lKSB7XHJcbiAgICAgICAgdmFyIGRhdGU7XHJcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpICsgJy8nICsgZGF0ZS5nZXRNb250aCgpICsgJy8nICsgZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFRpbWU6IGZ1bmN0aW9uKGRhdGV0aW1lKSB7XHJcbiAgICAgICAgdmFyIGRhdGU7XHJcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRIb3VycygpICsgJzonICsgZGF0ZS5nZXRNaW51dGVzKCkgKyAnOicgKyBkYXRlLmdldFNlY29uZHMoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiB2aWV3VXRpbDtcclxuICB9KTtcclxuXHJcbn0pLmNhbGwodGhpcyk7XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3LXV0aWwuanMubWFwXHJcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS45LjNcclxuKGZ1bmN0aW9uKCkge1xyXG4gIGFwcC5maWx0ZXIoJ29yZGVyT2JqZWN0QnknLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpdGVtcywgZmllbGQsIHJldmVyc2UpIHtcclxuICAgICAgdmFyIGZpbHRlcmVkLCByZXN1bHRzO1xyXG4gICAgICBpZiAoZmllbGQgPT0gbnVsbCkge1xyXG4gICAgICAgIGZpZWxkID0gJyR2YWx1ZSc7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJldmVyc2UgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldmVyc2UgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGZpbHRlcmVkID0gW107XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSwga2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkLnB1c2goe1xyXG4gICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICBpdGVtOiBpdGVtXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBmaWx0ZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICBpZiAoZmllbGQgPT09ICcka2V5Jykge1xyXG4gICAgICAgICAgaWYgKGEua2V5ID4gYi5rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaWVsZCA9PT0gJyR2YWx1ZScpIHtcclxuICAgICAgICAgIGlmIChhLml0ZW0gPiBiLml0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICBpZiAoYVtmaWVsZF0gPiBiW2ZpZWxkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgaWYgKGZpZWxkKGEuaXRlbSwgYS5rZXkpID4gZmllbGQoYi5pdGVtLCBiLmtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHJldmVyc2UpIHtcclxuICAgICAgICBmaWx0ZXJlZC5yZXZlcnNlKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0cyA9IFtdO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2goZmlsdGVyZWQsIGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHJlc3VsdCA9IGl0ZW0uaXRlbTtcclxuICAgICAgICByZXN1bHRbJyRrZXknXSA9IGl0ZW0ua2V5O1xyXG4gICAgICAgIHJldHVybiByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbn0pLmNhbGwodGhpcyk7XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcmRlci1vYmplY3QtYnkuanMubWFwXHJcbiIsIiMgYW5ndWxhci5qcyBzZXR0aW5nXHJcbndpbmRvdy5hcHAgPSBhbmd1bGFyLm1vZHVsZSgnQXBwJywgWyd1aS5ib290c3RyYXAnXSlcclxuXHJcbiMgYW5ndWxhci5qcyBmaWx0ZXJzXHJcbnJlcXVpcmUgJy4vZmlsdGVycy9vcmRlci1vYmplY3QtYnknXHJcblxyXG4jIGFuZ3VsYXIuanMgZmFjdG9yaWVzXHJcbnJlcXVpcmUgJy4vZmFjdG9yaWVzL3ZpZXctdXRpbCdcclxuXHJcbiMgYW5ndWxhci5qcyBjb250cm9sbGVyc1xyXG5yZXF1aXJlICcuL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXInXHJcbnJlcXVpcmUgJy4vY29udHJvbGxlcnMvdGltZWxpbmUtY29udHJvbGxlcidcclxuIl19

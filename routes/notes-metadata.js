// Generated by CoffeeScript 1.9.3
(function() {
  var Evernote, core, express, router;

  express = require('express');

  router = express.Router();

  Evernote = require('Evernote').Evernote;

  core = require('../lib/core');

  router.get('/', function(req, res, next) {
    var noteFilter, noteStore, resultSpec;
    noteStore = core.client.getNoteStore();
    noteFilter = new Evernote.NoteFilter();
    resultSpec = new Evernote.NotesMetadataResultSpec();
    resultSpec.includeTitle = true;
    resultSpec.includeCreated = true;
    resultSpec.includeUpdated = true;
    return noteStore.findNotesMetadata(noteFilter, 0, 10, resultSpec, (function(_this) {
      return function(err, notesMeta) {
        var i, len, note, ref;
        if (err) {
          console.error(err);
          return;
        }
        console.log('Found ' + notesMeta.notes.length + ' notes in your default notebook');
        ref = notesMeta.notes;
        for (i = 0, len = ref.length; i < len; i++) {
          note = ref[i];
          console.log(note.title);
        }
        return res.json(notesMeta.notes);
      };
    })(this));
  });

  module.exports = router;

}).call(this);

//# sourceMappingURL=notes-metadata.js.map
